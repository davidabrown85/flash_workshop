package classes{	import flash.display.MovieClip;	import flash.display.Sprite;	import flash.events.Event;	import flash.events.KeyboardEvent;	import flash.ui.Keyboard;		public class GracefulDemo extends MovieClip 	{		private var ball:Sprite = new Sprite();		private var ball_vx:Number = 0;		private var ball_vy:Number = 0;		private var ball_r:Number = 20;		private var gravity:Number = .35;		private var friction:Number = .98;		private var elasticity:Number = .5;				private var left_down:Boolean = false;		private var right_down:Boolean = false;		private var up_down:Boolean = false;		private var down_down:Boolean = false;				public function GracefulDemo() 		{ 			draw_ball();						addEventListener( Event.ENTER_FRAME, control_ball );			//addEventListener( KeyboardEvent.KEY_DOWN, key_down );		}		private function draw_ball():void		{			ball.graphics.clear();			ball.graphics.beginFill( 0x000000 );			ball.graphics.drawCircle( 0, 0, ball_r );						ball.x = 300; ball.y = 200;						addChild( ball );						stage.addEventListener(KeyboardEvent.KEY_DOWN, key_down );			stage.addEventListener(KeyboardEvent.KEY_UP, key_up );					}				private function key_down(ev:KeyboardEvent ):void		{			if( ev.keyCode == Keyboard.SPACE )			{				jump();			}			if( ev.keyCode == Keyboard.LEFT )			{				left_down = true;				//ball_vx -=1;			}			if( ev.keyCode == Keyboard.RIGHT )			{				right_down = true;				//ball_vx +=1;			}			if( ev.keyCode == Keyboard.UP )			{				up_down = true;				//ball_vy -=1;			}			if( ev.keyCode == Keyboard.DOWN )			{				down_down = true;				//ball_vy +=1;			}		}				private function key_up( ev:KeyboardEvent ):void		{			if( ev.keyCode == Keyboard.LEFT )			{				left_down = false;				//ball_vx -=1;			}			if( ev.keyCode == Keyboard.RIGHT )			{				right_down = false;				//ball_vx +=1;			}			if( ev.keyCode == Keyboard.UP )			{				up_down = false;				//ball_vy -=1;			}			if( ev.keyCode == Keyboard.DOWN )			{				down_down = false;				//ball_vy +=1;			}		}				private function jump():void		{			ball_vy -= 10;		}				private function control_ball( ev:Event ):void		{			if(left_down)			{				ball_vx -=1;			}			if( right_down)			{				ball_vx +=1;			}			if(up_down)			{				ball_vy -=1;			}			if( down_down)			{				ball_vy +=1;			}						ball.x += ball_vx;			ball.y += ball_vy;					ball_vx *= friction;			ball_vy *= friction;						ball_vy += gravity;						if( ball.y + ball_r > stage.stageHeight ) 			{				ball.y = stage.stageHeight - ball_r;			  	ball_vy = -Math.abs( ball_vy );			  	ball_vy *= elasticity;			  					if( ball_vy < .5 && ball_vy > -.5 )				{ 					//stop_ball(); 				}			} 		}				private function stop_ball():void		{			ball_vy = 0;			ball.y = stage.stageHeight - ball_r;			removeEventListener( Event.ENTER_FRAME, control_ball );		}	}}