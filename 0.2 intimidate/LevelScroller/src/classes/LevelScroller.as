package classes{	import flash.display.MovieClip;	import flash.events.KeyboardEvent;	import flash.events.Event;	import flash.ui.Keyboard;	public class LevelScroller extends MovieClip	{		public function LevelScroller()		{			stage.addEventListener( KeyboardEvent.KEY_DOWN, key_down );						addEventListener( Event.ENTER_FRAME, update_position );		}						private function key_down( ev:KeyboardEvent ):void		{			switch( ev.keyCode )			{				case Keyboard.LEFT:									move_left();									break;				case Keyboard.RIGHT:									move_right();									break;							}		}						private function move_left( ):void		{			var new_position:int = level1.player.x;						new_position -= 10;							if ( new_position - ( level1.player.width / 2 ) < 20 )			{				new_position = 20 + ( level1.player.width / 2 );			}						level1.player.x = new_position;		}						private function move_right( ):void		{			var new_position:int = level1.player.x;						new_position += 10;							if ( new_position + ( level1.player.width / 2 ) > level1.width - 20 )			{				new_position = level1.width - ( ( level1.player.width / 2 ) + 20 );			}						level1.player.x = new_position;		}		private function update_position( ev:Event ):void		{						var world_shift_x:int = ( -level1.player.x + ( stage.stageWidth / 2 ) );			if ( world_shift_x > 0 )			{				world_shift_x = 0;			}			else if ( world_shift_x < -level1.width + stage.stageWidth )			{				world_shift_x = -level1.width + stage.stageWidth;			}						level1.x = world_shift_x;						var world_shift_y:int = ( -level1.player.y + ( stage.stageHeight / 2 ) );			if ( world_shift_y < 0 )			{				world_shift_y = 0;			}			else if ( world_shift_y > level1.height - stage.stageHeight )			{				world_shift_y = level1.height - stage.stageHeight;			}						level1.y = world_shift_y;		}	}}