package classes{	import flash.display.MovieClip;	import flash.events.Event;	import classes.MotionCam;	import com.coreyoneil.collision.CollisionList;	import flash.display.Sprite;	import flash.display.StageAlign;	import flash.display.StageScaleMode;	import flash.display.BitmapData;	import flash.display.Bitmap;	import flash.utils.setInterval;	import flash.utils.clearInterval;	import flash.text.TextField;	import flash.media.Camera;	import flash.media.Video;	import flash.geom.Point;	import flash.geom.Rectangle;	public class MainMulti extends MovieClip	{		private var motion_camera:MotionCam = new MotionCam();		private var _collisionList:CollisionList;		private var button_array:Array = [];				public function MainMulti()		{			addChild( motion_camera );			motion_camera.init();									_collisionList = new CollisionList( motion_camera.output );			_collisionList.alphaThreshold = .3;									button_array.push( buttonMC1 );			button_array.push( buttonMC2 );			button_array.push( buttonMC3 );			button_array.push( buttonMC4 );			button_array.push( buttonMC5 );						var button_amount:int = button_array.length;			for( var i:int = 0; i < button_amount; i++ )			{				_collisionList.addItem( button_array[i] );			}						addEventListener( Event.ENTER_FRAME, check_collision );		}						public function check_collision( ev:Event ):void		{			var collision:Array = _collisionList.checkCollisions();						var button_amount:int = button_array.length;			for( var button_num:int = 0; button_num < button_amount; button_num++ )			{				button_array[button_num].checked = false;			}						if( collision.length > 0 )			{				for( var i:int = 0; i < collision.length; i++ )				{					var pixels:Array = collision[i].overlapping;					var percentage:Number = pixels.length / (collision[i].object1.width * collision[i].object1.height);										if( percentage > 0.2)					{						switch( collision[i].object1.name )						{							case "buttonMC1":	buttonMC1.gotoAndStop(2)												buttonMC1.checked = true;												break;							case "buttonMC2":	buttonMC2.gotoAndStop(2)												buttonMC2.checked = true;												break;							case "buttonMC3":	buttonMC3.gotoAndStop(2)												buttonMC3.checked = true;												break;							case "buttonMC4":	buttonMC4.gotoAndStop(2)												buttonMC4.checked = true;												break;							case "buttonMC5":	buttonMC5.gotoAndStop(2)												buttonMC5.checked = true;												break;						}					}				}			}						for( button_num = 0; button_num < button_amount; button_num++ )			{				if( !button_array[button_num].checked )				{					button_array[button_num].gotoAndStop(1);				}			}		}	}}