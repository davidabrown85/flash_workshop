package classes{	import flash.display.Sprite;	import flash.display.MovieClip;	import flash.events.Event;		import com.greensock.loading.XMLLoader;	import com.greensock.loading.LoaderMax;	import com.greensock.TweenLite;		import classes.screens.*;		public class Main extends MovieClip	{			private var xml_loader:XMLLoader;				private var language_xml:XML;				private var language:String = "en";				private var current_screen:MovieClip;				public function Main() 		{			xml_loader = new XMLLoader("xml/language_en.xml", {name:"xmlDoc", onComplete:local_xml_loaded});			xml_loader.autoDispose = true;			xml_loader.load();					}		private function local_xml_loaded( ev:Event ):void		{			var local_xml = XML( LoaderMax.getContent("xmlDoc") );						var local_obj:Object = new Object();			local_obj.languagexml = language_xml = local_xml;						local_obj.asset_root = "";			local_obj.language = "en";						init( );		}		public function init():void		{						change_screen( ScreenConstants.SCREEN_INTRO );		}		public function change_screen( new_room:String ):void		{			var new_screen:MovieClip;									if( current_screen )			{ 				current_screen.clean_up();				removeChild( current_screen ); 			}						switch( new_room )			{				case ScreenConstants.SCREEN_INTRO: new_screen = new ScreenIntro(); break;				case ScreenConstants.SCREEN_GAME: new_screen = new ScreenGame(); break;				case ScreenConstants.SCREEN_END: new_screen = new ScreenEnd(); break;				default: trace( "could not find a public '"+new_room+"+' variable" ); break;			}									if( language_xml )				new_screen.setup_text( language_xml, language );						addChildAt( new_screen, 0 );						new_screen.init( this );						current_screen = new_screen;		}	}	}